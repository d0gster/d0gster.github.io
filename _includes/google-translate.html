<!-- Custom Language Switcher -->
<span id="language-switcher" class="nav-item nav-link" role="button" onclick="toggleLanguage()">ðŸ‡ºðŸ‡¸ EN</span>

<!-- Hidden Google Translate Widget -->
<div id="google_translate_element" style="display: none;"></div>

<script type="text/javascript">
let currentLang = 'en';

function googleTranslateElementInit() {
  new google.translate.TranslateElement({
    pageLanguage: 'en',
    includedLanguages: 'en,pt',
    layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
    autoDisplay: false
  }, 'google_translate_element');
}

function toggleLanguage() {
  const switcher = document.getElementById('language-switcher');
  
  if (currentLang === 'en') {
    // Switch to Portuguese
    currentLang = 'pt';
    switcher.innerHTML = 'ðŸ‡§ðŸ‡· PT-BR';
    
    // Trigger Google Translate
    setTimeout(() => {
      const select = document.querySelector('.goog-te-combo');
      if (select) {
        select.value = 'pt';
        select.dispatchEvent(new Event('change'));
      }
    }, 100);
  } else {
    // Switch to English
    currentLang = 'en';
    switcher.innerHTML = 'ðŸ‡ºðŸ‡¸ EN';
    
    // Reset to English
    setTimeout(() => {
      const select = document.querySelector('.goog-te-combo');
      if (select) {
        select.value = 'en';
        select.dispatchEvent(new Event('change'));
      }
    }, 100);
  }
}
</script>

<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

<style>
.goog-te-banner-frame { display: none !important; }
body { top: 0 !important; }
#language-switcher {
  cursor: pointer;
  font-size: 14px;
  user-select: none;
}
#language-switcher:hover {
  opacity: 0.7;
}
</style>